{% extends 'base.html.twig' %}

{% block title %}{{ product.brand }} {{ product.name }} - TopAchat{% endblock %}

{% block body %}
<main class="w-3/5 h-auto flex flex-col gap-16 mx-auto my-4">
    <section>
        {% if product.image %}
            <img src="{{ asset(product.image) }}" alt="">
        {% endif %}
        <p>{{ product.brand }}</p>
        <p>{{ product.name }}</p>
        <p>$ {{ product.price }}</p>
        <p>{{ product.stock }} available</p>
        <p>{{ product.description }}</p>
    </section>
    <section class="w-full flex flex-col gap-8">
        <div class="flex justify-between items-center">
            <h2 class="text-3xl font-bold text-neutral-800">Similar products</h2>
            <a href="{{ path('category_show', {'id': product.category.id }) }}" class="px-3 py-1 rounded hover:bg-blue-topachat hover:text-white duration-300">View All Products</a>
        </div>
        <div class="grid gap-4 grid-cols-4 ">
            {%  for similarProduct in similarProducts %}
                <a class="flex flex-col bg-gray-200 rounded-lg hover:shadow-xl duration-300" href="{{ path('product_show', { 'id': similarProduct.id }) }}">
                    <img class="h-[200px] object-contain" src="{{ asset('{{product.image}}') }}" />
                    <div class="flex flex-col gap-1 p-4">
                        <p class="text-base text-gray-500">{{ similarProduct.brand }}</p>
                        <p class="text-lg">{{ similarProduct.name }}</p>
                        <p class="text-blue-topachat font-bold text-xl">$ {{ similarProduct.price }}</p>
                        <p class="{%  if similarProduct.stock == 1 or similarProduct.stock == 0 %} text-red-600 {% elseif product.stock <= 50 %} text-orange-400 {% else %} text-green-500 {% endif %}">{{ similarProduct.stock }} available in stock</p>
                    </div>
                </a>
            {% endfor %}
        </div>
    </section>
</main>
{% endblock %}
